import{_ as t}from"./nuxt-link-C4bJq6SY.mjs";import{_ as a}from"./Icon-C9G3L-5-.mjs";import{ref as e,computed as r,mergeProps as s,withCtx as d,createTextVNode as o,createVNode as i,unref as n,openBlock as l,createBlock as c,useSSRContext as v}from"vue";import{ssrRenderAttrs as m,ssrRenderComponent as u,ssrInterpolate as g,ssrRenderList as h,ssrRenderAttr as p}from"vue/server-renderer";import{_ as x,u as b}from"./server.mjs";import{u as f}from"./useBlog-vfFypdLf.mjs";import"../_/nitro.mjs";import"node:http";import"node:https";import"node:events";import"node:buffer";import"lru-cache";import"node:fs";import"node:path";import"@iconify/utils";import"node:crypto";import"consola";import"xss";import"./index-DLlP2E53.mjs";import"@iconify/vue";import"@iconify/utils/lib/css/icon";import"./asyncData-CWCkQ0Ta.mjs";import"reka-ui";import"vue-router";import"@supabase/ssr";import"tailwindcss/colors";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/plugins";import"unhead/utils";const w={__name:"BlogAdminCard",__ssrInlineRender:!0,props:{post:{type:Object,required:!0}},setup:a=>(e,r,n,v)=>{const h=t;var x;r(`<div${m(s({class:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow"},v))} data-v-4a4ba9ac>`),a.post.image_url?r(`<div class="h-48 overflow-hidden" data-v-4a4ba9ac><img${p("src",a.post.image_url)}${p("alt",a.post.title)} class="w-full h-full object-cover hover:scale-105 transition-transform duration-300" data-v-4a4ba9ac></div>`):r("\x3c!----\x3e"),r(`<div class="p-6" data-v-4a4ba9ac><h3 class="text-xl font-semibold text-gray-900 mb-2 line-clamp-2" data-v-4a4ba9ac>${g(a.post.title)}</h3><div class="flex items-center text-sm text-gray-600 mb-3" data-v-4a4ba9ac><span data-v-4a4ba9ac>By ${g(a.post.author)}</span><span class="mx-2" data-v-4a4ba9ac>â€¢</span><span data-v-4a4ba9ac>${g((x=a.post.created_at,new Date(x).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})))}</span></div><div class="text-gray-700 mb-4 line-clamp-3" data-v-4a4ba9ac>${(t=>{const a=t.replace(/<[^>]*>/g,"");return a.length>150?a.substring(0,150)+"...":a})(a.post.content)??""}</div>`),r(u(h,{to:`/admin/resources/${a.post.id}`,class:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium"},{default:d((t,a,e,r)=>{if(!a)return[o(" Read More "),(l(),c("svg",{class:"ml-2 w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})]))];a(` Read More <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-4a4ba9ac${r}><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" data-v-4a4ba9ac${r}></path></svg>`)}),_:1},n)),r("</div></div>")}},y=w.setup;w.setup=(t,a)=>{const e=v();return(e.modules||(e.modules=new Set)).add("components/BlogAdminCard.vue"),y?y(t,a):void 0};const A=x(w,[["__scopeId","data-v-4a4ba9ac"]]),B={__name:"index",__ssrInlineRender:!0,setup(l){const{getAllBlogPosts:c}=f();b({title:"Resources - Admin Dashboard",meta:[{name:"description",content:"Manage educational resources and blog posts for The Covenant Academy"},{property:"og:title",content:"Resources Management - Admin Dashboard"},{property:"og:description",content:"Administration interface for managing educational resources at The Covenant Academy"},{name:"robots",content:"noindex, nofollow"}]});const v=e([]),p=e(!0),x=e(null),w=r(()=>v.value.filter(t=>"published"===t.status).length),y=r(()=>v.value.filter(t=>"draft"===t.status).length),fetchPosts=async()=>{try{p.value=!0,x.value=null,v.value=await c()}catch(t){x.value="Failed to load resources. Please try again."}finally{p.value=!1}};return(e,r,l,c)=>{const b=t,f=a,B=A;r(`<div${m(s({class:"relative w-full min-h-screen bg-[#f4f5f3] p-4 overflow-hidden font-inter"},c))} data-v-842766a6><div class="absolute inset-0 opacity-5" data-v-842766a6><svg width="60" height="60" viewBox="0 0 60 60" class="absolute top-0 left-0 w-full h-full" data-v-842766a6><defs data-v-842766a6><pattern id="grid" width="60" height="60" patternUnits="userSpaceOnUse" data-v-842766a6><circle cx="30" cy="30" r="1" fill="#ACBEA3" data-v-842766a6></circle></pattern></defs><rect width="100%" height="100%" fill="url(#grid)" data-v-842766a6></rect></svg></div><div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 min-h-screen py-8" data-v-842766a6><div class="bg-white rounded-xl shadow border border-gray-200 mb-8 p-8" data-v-842766a6><div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-6" data-v-842766a6><div data-v-842766a6><div class="flex items-center space-x-3 mb-4" data-v-842766a6><div class="w-3 h-3 bg-[#EB6534] rounded-full" data-v-842766a6></div><span class="text-xs font-semibold text-gray-500 tracking-wide uppercase" data-v-842766a6> Admin Dashboard </span></div><h1 class="text-3xl md:text-4xl font-bold text-[#333333] tracking-tight mb-2" data-v-842766a6> Resources </h1><p class="text-gray-600 font-medium" data-v-842766a6> Explore our latest articles and updates </p></div>`),r(u(b,{to:"/admin/resources/create",class:"group inline-flex items-center justify-center px-6 py-3 bg-[#EB6534] text-white text-sm font-medium rounded-lg hover:bg-[#c16a3d] transition-all duration-200 shadow-sm hover:shadow-md"},{default:d((t,a,e,r)=>{if(!a)return[o(" Create New "),i(f,{name:"i-heroicons-plus",class:"ml-2 w-4 h-4 group-hover:rotate-90 transition-transform duration-200"})];a(" Create New "),a(u(f,{name:"i-heroicons-plus",class:"ml-2 w-4 h-4 group-hover:rotate-90 transition-transform duration-200"},null,e,r))}),_:1},l)),r("</div></div><div data-v-842766a6>"),n(p)?r('<div class="flex justify-center py-12" data-v-842766a6><div class="flex flex-col items-center space-y-4" data-v-842766a6><div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-[#ACBEA3]" data-v-842766a6></div><p class="text-gray-600 font-medium" data-v-842766a6>Loading resources...</p></div></div>'):n(x)?(r('<div class="bg-white rounded-xl shadow border border-gray-200 p-8 text-center" data-v-842766a6><div class="flex justify-center mb-6" data-v-842766a6><div class="w-16 h-16 bg-red-100 rounded-full flex items-center justify-center" data-v-842766a6>'),r(u(f,{name:"i-heroicons-exclamation-circle",class:"w-8 h-8 text-red-600"},null,l)),r(`</div></div><h3 class="text-xl font-semibold text-[#333333] mb-3" data-v-842766a6> Something went wrong </h3><p class="text-gray-600 mb-8 max-w-md mx-auto" data-v-842766a6>${g(n(x))}</p><button class="group inline-flex items-center justify-center px-6 py-3 bg-[#ACBEA3] text-white text-sm font-medium rounded-lg hover:bg-[#6b7a6a] transition-all duration-200 shadow-sm hover:shadow-md" data-v-842766a6> Try Again `),r(u(f,{name:"i-heroicons-arrow-path",class:"ml-2 w-4 h-4 group-hover:rotate-180 transition-transform duration-200"},null,l)),r("</button></div>")):0===n(v).length?(r('<div class="bg-white rounded-xl shadow border border-gray-200 p-12 text-center" data-v-842766a6><div class="flex justify-center mb-8" data-v-842766a6><div class="w-20 h-20 bg-[#ACBEA3]/10 rounded-full flex items-center justify-center" data-v-842766a6>'),r(u(f,{name:"i-heroicons-document-text",class:"w-10 h-10 text-[#ACBEA3]"},null,l)),r('</div></div><h3 class="text-2xl font-semibold text-[#333333] mb-4" data-v-842766a6> No resources yet </h3><p class="text-gray-600 mb-10 max-w-md mx-auto font-medium" data-v-842766a6> Get started by creating your first blog post to share with the community. </p>'),r(u(b,{to:"/admin/resources/create",class:"group inline-flex items-center justify-center px-8 py-4 bg-[#EB6534] text-white text-base font-medium rounded-lg hover:bg-[#c16a3d] transition-all duration-200 shadow-sm hover:shadow-md"},{default:d((t,a,e,r)=>{if(!a)return[o(" Create First Post "),i(f,{name:"i-heroicons-arrow-right",class:"ml-3 w-5 h-5 group-hover:translate-x-1 transition-transform duration-200"})];a(" Create First Post "),a(u(f,{name:"i-heroicons-arrow-right",class:"ml-3 w-5 h-5 group-hover:translate-x-1 transition-transform duration-200"},null,e,r))}),_:1},l)),r("</div>")):(r('<div data-v-842766a6><div class="bg-white rounded-xl shadow border border-gray-200 p-6 mb-8" data-v-842766a6><div class="grid grid-cols-1 md:grid-cols-3 gap-6" data-v-842766a6><div class="text-center" data-v-842766a6><div class="w-12 h-12 bg-[#ACBEA3]/10 rounded-lg flex items-center justify-center mx-auto mb-3" data-v-842766a6>'),r(u(f,{name:"i-heroicons-document-text",class:"w-6 h-6 text-[#ACBEA3]"},null,l)),r(`</div><div class="text-2xl font-bold text-[#333333]" data-v-842766a6>${g(n(v).length)}</div><div class="text-sm text-gray-600 font-medium" data-v-842766a6> Total Articles </div></div><div class="text-center" data-v-842766a6><div class="w-12 h-12 bg-[#EB6534]/10 rounded-lg flex items-center justify-center mx-auto mb-3" data-v-842766a6>`),r(u(f,{name:"i-heroicons-eye",class:"w-6 h-6 text-[#EB6534]"},null,l)),r(`</div><div class="text-2xl font-bold text-[#333333]" data-v-842766a6>${g(n(w))}</div><div class="text-sm text-gray-600 font-medium" data-v-842766a6>Published</div></div><div class="text-center" data-v-842766a6><div class="w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center mx-auto mb-3" data-v-842766a6>`),r(u(f,{name:"i-heroicons-clock",class:"w-6 h-6 text-gray-600"},null,l)),r(`</div><div class="text-2xl font-bold text-[#333333]" data-v-842766a6>${g(n(y))}</div><div class="text-sm text-gray-600 font-medium" data-v-842766a6>Drafts</div></div></div></div><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8" data-v-842766a6>\x3c!--[--\x3e`),h(n(v),t=>{r(u(B,{key:t.id,post:t,onUpdated:fetchPosts},null,l))}),r("\x3c!--]--\x3e</div></div>")),r("</div>"),n(v).length>0?(r('<div class="mt-12 bg-white rounded-xl shadow border border-gray-200 p-8" data-v-842766a6><h3 class="text-lg font-semibold text-[#333333] mb-6" data-v-842766a6>Quick Actions</h3><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4" data-v-842766a6><button class="group flex items-center p-4 rounded-lg border border-gray-200 hover:border-[#ACBEA3] hover:bg-[#ACBEA3]/5 transition-all duration-200" data-v-842766a6><div class="w-10 h-10 bg-[#ACBEA3]/10 rounded-lg flex items-center justify-center mr-4 group-hover:bg-[#ACBEA3]/20" data-v-842766a6>'),r(u(f,{name:"i-heroicons-plus",class:"w-5 h-5 text-[#ACBEA3]"},null,l)),r('</div><div class="text-left" data-v-842766a6><div class="font-medium text-[#333333]" data-v-842766a6>New Article</div><div class="text-sm text-gray-600" data-v-842766a6>Create content</div></div></button><button class="group flex items-center p-4 rounded-lg border border-gray-200 hover:border-[#EB6534] hover:bg-[#EB6534]/5 transition-all duration-200" data-v-842766a6><div class="w-10 h-10 bg-[#EB6534]/10 rounded-lg flex items-center justify-center mr-4 group-hover:bg-[#EB6534]/20" data-v-842766a6>'),r(u(f,{name:"i-heroicons-chart-bar",class:"w-5 h-5 text-[#EB6534]"},null,l)),r('</div><div class="text-left" data-v-842766a6><div class="font-medium text-[#333333]" data-v-842766a6>Analytics</div><div class="text-sm text-gray-600" data-v-842766a6>View insights</div></div></button><button class="group flex items-center p-4 rounded-lg border border-gray-200 hover:border-[#6b7a6a] hover:bg-[#6b7a6a]/5 transition-all duration-200" data-v-842766a6><div class="w-10 h-10 bg-[#6b7a6a]/10 rounded-lg flex items-center justify-center mr-4 group-hover:bg-[#6b7a6a]/20" data-v-842766a6>'),r(u(f,{name:"i-heroicons-cog-6-tooth",class:"w-5 h-5 text-[#6b7a6a]"},null,l)),r('</div><div class="text-left" data-v-842766a6><div class="font-medium text-[#333333]" data-v-842766a6>Settings</div><div class="text-sm text-gray-600" data-v-842766a6>Manage blog</div></div></button><button class="group flex items-center p-4 rounded-lg border border-gray-200 hover:border-gray-400 hover:bg-gray-50 transition-all duration-200" data-v-842766a6><div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center mr-4 group-hover:bg-gray-200" data-v-842766a6>'),r(u(f,{name:"i-heroicons-archive-box",class:"w-5 h-5 text-gray-600"},null,l)),r('</div><div class="text-left" data-v-842766a6><div class="font-medium text-[#333333]" data-v-842766a6>Archive</div><div class="text-sm text-gray-600" data-v-842766a6>Old posts</div></div></button></div></div>')):r("\x3c!----\x3e"),r("</div></div>")}}},j=B.setup;B.setup=(t,a)=>{const e=v();return(e.modules||(e.modules=new Set)).add("pages/admin/resources/index.vue"),j?j(t,a):void 0};const C=x(B,[["__scopeId","data-v-842766a6"]]);export{C as default};
//# sourceMappingURL=index-Dn-RtX7t.mjs.map
