import{createRenderer as e,getRequestDependencies as t,getPreloadLinks as n,getPrefetchLinks as o}from"vue-bundle-renderer/runtime";import{b as r,a,c as s,d as i,e as d,p as l,f as u,h as c,i as p,k as f,l as h,u as m}from"../_/nitro.mjs";import{renderToString as g}from"vue/server-renderer";import{createHead as y,propsToString as b,renderSSRHead as v}from"unhead/server";import{stringify as S,uneval as _}from"devalue";import{FlatMetaPlugin as w}from"unhead/plugins";import{walkResolver as x}from"unhead/utils";import{isRef as C,toValue as R,hasInjectionContext as j,inject as T,ref as A,watchEffect as k,getCurrentInstance as H,onBeforeUnmount as P,onDeactivated as B,onActivated as $}from"vue";const VueResolver=(e,t)=>C(t)?R(t):t,L="usehead";function injectHead(){if(j()){const e=T(L);if(e)return e}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function useHead(e,t={}){const n=t.head||injectHead();return n.ssr?n.push(e||{},t):function(e,t,n={}){const o=A(!1);let r;k(()=>{const a=o.value?{}:x(t,VueResolver);r?r.patch(a):r=e.push(a,n)});H()&&(P(()=>{r.dispose()}),B(()=>{o.value=!0}),$(()=>{o.value=!1}));return r}(n,e,t)}function useSeoMeta(e={},t={}){(t.head||injectHead()).use(w);const{title:n,titleTemplate:o,...r}=e;return useHead({title:n,titleTemplate:o,_flatMeta:r},t)}function createHead(e={}){const t=y({...e,propResolvers:[VueResolver]});return t.install=function(e){return{install(t){t.config.globalProperties.$unhead=e,t.config.globalProperties.$head=e,t.provide(L,e)}}.install}(t),t}const z={meta:[{name:"description",content:"B&S Educational Services - Building Foundation for Life."},{name:"viewport",content:"width=device-width, initial-scale=1"},{charset:"utf-8"},{name:"theme-color",content:"#ffffff"},{name:"author",content:"B&S Educational Services"},{name:"application-name",content:"B&S Educational Services"},{name:"apple-mobile-web-app-title",content:"B&S Educational Services"},{name:"mobile-web-app-capable",content:"yes"},{name:"keywords",content:"education, tutoring, online courses, learning, B&S Educational Services, Study Abroad, Abroad, Forign Studies, Nigeria, UK, USA, Canada, Australia, Consult, Edu Consult, Malta, Study in UK, Study in France"},{name:"robots",content:"index, follow"},{name:"og:title",content:"B&S Educational Services"},{name:"og:description",content:"B&S Educational Services - Building Foundation for Life."},{name:"og:image",content:"/img/main-logo.png"},{name:"og:image:type",content:"image/png"},{name:"og:url",content:"https://bs-education.com"},{name:"og:type",content:"website"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:"B&S Educational Services"},{name:"twitter:description",content:"B&S Educational Services - Building Foundation for Life."},{name:"twitter:image",content:"/img/main-logo.png"},{name:"twitter:site",content:"@bs_education"},{name:"twitter:creator",content:"@bs_education"}],link:[{rel:"stylesheet",href:"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",integrity:"sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=",crossorigin:""},{rel:"icon",type:"image/x-icon",href:"/favicon.ico"},{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"},{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"},{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"},{rel:"manifest",href:"/site.webmanifest"}],style:[],script:[],noscript:[],title:"B&S Educational Services"},E={id:"teleports"},M={id:"__nuxt-loader"},U=`<div${b({id:"__nuxt",class:"isolate"})}>`,N="</div>",getPrecomputedDependencies=()=>import("../build/client.precomputed.mjs").then(e=>e.default||e).then(e=>"function"==typeof e?e():e),F=lazyCachedFunction(async()=>{const t=await import("../build/server.mjs").then(e=>e.default||e);if(!t)throw new Error("Server bundle is not available");const n=await getPrecomputedDependencies();return e(t,{precomputed:n,manifest:void 0,renderToString:async function(e,t){const n=await g(e,t);return U+n+N},buildAssetsURL:r})}),O=lazyCachedFunction(async()=>{const t=await getPrecomputedDependencies(),n=await import("../virtual/_virtual_spa-template.mjs").then(e=>e.template).catch(()=>"").then(e=>{{const t=`<div${b(M)}>`;return U+N+(e?t+e+"</div>":"")}}),o=e(()=>()=>{},{precomputed:t,manifest:void 0,renderToString:()=>n,buildAssetsURL:r}),s=await o.renderToString({});return{rendererContext:o.rendererContext,renderToString:e=>{const t=a(e.event);return e.modules||=new Set,e.payload.serverRendered=!1,e.config={public:t.public,app:t.app},Promise.resolve(s)}}});function lazyCachedFunction(e){let t=null;return()=>(null===t&&(t=e().catch(e=>{throw t=null,e})),t)}const I=lazyCachedFunction(()=>import("../build/styles.mjs").then(e=>e.default||e));function renderPayloadJsonScript(e){const t={type:"application/json",innerHTML:e.data?S(e.data,e.ssrContext["~payloadReducers"]):"","data-nuxt-data":"nuxt-app","data-ssr":!e.ssrContext.noSSR,id:"__NUXT_DATA__"};e.src&&(t["data-src"]=e.src);return[t,{innerHTML:`window.__NUXT__={};window.__NUXT__.config=${_(e.ssrContext.config)}`}]}function splitPayload(e){const{data:t,prerenderedAt:n,...o}=e.payload;return{initial:{...o,prerenderedAt:n},payload:{data:t,prerenderedAt:n}}}const D={disableDefaults:!0};const J={omitLineBreaks:!0},X=[];globalThis.__buildAssetsURL=r,globalThis.__publicAssetsURL=l;const q=!!E.id,K=q?`<div${b(E)}>`:"",Y=q?"</div>":"",W=/^[^?]*\/_payload.json(?:\?.*)?$/,Z=d(async e=>{const d=m(),l=e.path.startsWith("/__nuxt_error")?u(e):null;if(l&&!("__unenv__"in e.node.req))throw c({status:404,statusText:"Page Not Found: /__nuxt_error",message:"Page Not Found: /__nuxt_error"});const g=function(e){return{url:e.path,event:e,runtimeConfig:a(e),noSSR:e.context.nuxt?.noSSR||!1,head:createHead(D),error:!1,nuxt:void 0,payload:{},"~payloadReducers":Object.create(null),modules:new Set}}(e),y={mode:"server"};if(g.head.push(z,y),l){const e=l.status||l.statusCode;if(e&&(l.status=l.statusCode=Number.parseInt(e)),"string"==typeof l.data)try{l.data=p(l.data)}catch{}!function(e,t){e.error=!0,e.payload={error:t},e.url=t.url}(g,l)}const b=f(e),_=!g.noSSR&&false,w=!!_&&W.test(g.url);if(w){const t=g.url.substring(0,g.url.lastIndexOf("/"))||"/";g.url=t,e._path=e.node.req.url=t}!1===b.ssr&&(g.noSSR=!0);const x=_?h(g.runtimeConfig.app.cdnURL||g.runtimeConfig.app.baseURL,g.url.replace(/\?.*$/,""),"_payload.json")+"?"+g.runtimeConfig.app.buildId:void 0,C=await function(e){return e.noSSR?O():F()}(g);for(const e of X)g.modules.add(e);const R=await C.renderToString(g).catch(async e=>{if((g["~renderResponse"]||g._renderResponse)&&"skipping render"===e.message)return{};const t=!l&&g.payload?.error||e;throw await(g.nuxt?.hooks.callHook("app:error",t)),t}),j=g["~renderResponse"]||g._renderResponse||w?[]:await async function(e){const t=await I(),n=new Set;for(const o of e)if(o in t&&t[o])for(const e of await t[o]())n.add(e);return Array.from(n).map(e=>({innerHTML:e}))}(g.modules??[]);if(await(g.nuxt?.hooks.callHook("app:rendered",{ssrContext:g,renderResult:R})),g["~renderResponse"]||g._renderResponse)return g["~renderResponse"]||g._renderResponse;if(g.payload?.error&&!l)throw g.payload.error;if(w){const e=function(e){return{body:S(splitPayload(e).payload,e["~payloadReducers"]),statusCode:i(e.event),statusMessage:s(e.event),headers:{"content-type":"application/json;charset=utf-8","x-powered-by":"Nuxt"}}}(g);return e}const T=b.noScripts,{styles:A,scripts:k}=t(g,C.rendererContext);_&&!T&&g.head.push({link:[{rel:"preload",as:"fetch",crossorigin:"anonymous",href:x}]},y),g["~preloadManifest"]&&!T&&g.head.push({link:[{rel:"preload",as:"fetch",fetchpriority:"low",crossorigin:"anonymous",href:r(`builds/meta/${g.runtimeConfig.app.buildId}.json`)}]},{...y,tagPriority:"low"}),j.length&&g.head.push({style:j});const H=[];for(const e of Object.values(A))H.push({rel:"stylesheet",href:C.rendererContext.buildAssetsURL(e.file),crossorigin:""});if(H.length&&g.head.push({link:H},y),!T){if(g["~lazyHydratedModules"])for(const e of g["~lazyHydratedModules"])g.modules?.delete(e);g.head.push({link:n(g,C.rendererContext)},y),g.head.push({link:o(g,C.rendererContext)},y),g.head.push({script:renderPayloadJsonScript(_?{ssrContext:g,data:splitPayload(g).initial,src:x}:{ssrContext:g,data:g.payload})},{...y,tagPosition:"bodyClose",tagPriority:"high"})}if(!b.noScripts){const e="head";g.head.push({script:Object.values(k).map(t=>({type:t.module?"module":null,src:C.rendererContext.buildAssetsURL(t.file),defer:!t.module||null,tagPosition:e,crossorigin:""}))},y)}const{headTags:P,bodyTags:B,bodyTagsOpen:$,htmlAttrs:L,bodyAttrs:M}=await v(g.head,J),U={htmlAttrs:L?[L]:[],head:normalizeChunks([P]),bodyAttrs:M?[M]:[],bodyPrepend:normalizeChunks([$,g.teleports?.body]),body:[R.html,K+(q?joinTags([g.teleports?.[`#${E.id}`]]):"")+Y],bodyAppend:[B]};return await d.hooks.callHook("render:html",U,{event:e}),{body:(N=U,`<!DOCTYPE html><html${joinAttrs(N.htmlAttrs)}><head>${joinTags(N.head)}</head><body${joinAttrs(N.bodyAttrs)}>${joinTags(N.bodyPrepend)}${joinTags(N.body)}${joinTags(N.bodyAppend)}</body></html>`),statusCode:i(e),statusMessage:s(e),headers:{"content-type":"text/html;charset=utf-8","x-powered-by":"Nuxt"}};var N});function normalizeChunks(e){const t=[];for(const n of e){const e=n?.trim();e&&t.push(e)}return t}function joinTags(e){return e.join("")}function joinAttrs(e){return 0===e.length?"":" "+e.join(" ")}const G=Object.freeze(Object.defineProperty({__proto__:null,default:Z},Symbol.toStringTag,{value:"Module"}));export{useHead as a,L as h,G as r,useSeoMeta as u};
//# sourceMappingURL=renderer.mjs.map
